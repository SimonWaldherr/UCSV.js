<html>
<head>
    <meta charset="utf-8">
    <title>UCSV</title>
    
    <link href="./style.css" rel="stylesheet" type="text/css">
    <link href="./example1.css" rel="stylesheet" type="text/css">
</head>
<body>
  <div id="everything">
    <h1>A simple CSV editor built with ucsv.js</h1>
        <p>
            <span class="" onclick="showcsv()">csv</span>
            <span class="" onclick="showtable()">table</span>
            <span class="" onclick="showmarkdown()">markdown</span>
        </p>
        <h2 id="mode">Mode: Table</h2>
        <div id="content">
            
        <div class="container" id="inoutdiv" style="display:none;">
            <textarea id="inout"></textarea>
        </div>
        
        <div class="container" id="griddiv" style="display:block;">
            <table id="grid">
                <tr>
                    <td>lorem</td>
                    <td>ipsum</td>
                </tr>
                <tr>
                    <td>sit</td>
                    <td>amet</td>
                </tr>
            </table>
            <p id="addtrtd">
                <span id="addrow" onclick="addRow();" class="bt">Add new row</span>
                <span id="addcol" onclick="addCol();" class="bt">Add new column</span>
            </p>
        </div>
        
        <div class="container" id="markdowntadiv" style="display:none;">
            <textarea id="markdownta"></textarea>
        </div>
        
        </div>
  </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="application/javascript"></script>
    <script src="./ucsv.js" type="text/javascript"></script>
    <script>
        var visibil = 'griddiv';
        function showcsv()
          {
            if(visibil == 'inoutdiv')
              {
                return 1;
              }
            if(visibil == 'griddiv')
              {
                tabletocsv();
                document.getElementById('griddiv').style.display='none';
              }
            if(visibil == 'markdowndiv')
              {
                mdtocsv();
                document.getElementById('markdowntadiv').style.display='none';
              }
            
            visibil = 'inoutdiv';
            document.getElementById('inoutdiv').style.display='block';
            document.getElementById('mode').innerHTML = 'Mode: CSV';
          }
        
        function showtable()
          {
            if(visibil == 'griddiv')
              {
                return 1;
              }
            if(visibil == 'inoutdiv')
              {
                csvtotable();
                document.getElementById('inoutdiv').style.display='none';
              }
            if(visibil == 'markdowndiv')
              {
                mdtocsv();
                csvtotable();
                document.getElementById('markdowntadiv').style.display='none';
              }
            
            visibil = 'griddiv';
            document.getElementById('griddiv').style.display='block';
            document.getElementById('mode').innerHTML = 'Mode: Table';
          }
        
        function showmarkdown()
          {
            if(visibil == 'markdowndiv')
              {
                return 1;
              }
            if(visibil == 'inoutdiv')
              {
                csvtomd();
                document.getElementById('inoutdiv').style.display='none';
              }
            if(visibil == 'griddiv')
              {
                tabletocsv();
                csvtomd();
                document.getElementById('griddiv').style.display='none';
              }
            
            visibil = 'markdowndiv';
            document.getElementById('markdowntadiv').style.display='block';
            document.getElementById('mode').innerHTML = 'Mode: Markdown';
          }
    </script>
</body>
</html>